# 电池售后管理系统 - 打包说明

## 概述

本系统支持打包成独立的可执行文件，无需在目标电脑上安装Python环境即可运行。

## 打包要求

### 系统要求
- Windows 7/10/11 或 Linux/macOS
- Python 3.7 或更高版本
- 至少 2GB 可用磁盘空间

### 依赖包
打包工具会自动安装所需的依赖：
- PyInstaller (用于打包)
- tkinter (GUI界面，Python自带)

## 打包方法

### Windows 系统

#### 方法一：一键打包（推荐）
1. 双击运行 `打包成exe.bat`
2. 等待打包完成
3. 在 `dist/电池售后管理系统/` 目录找到可执行文件

#### 方法二：手动打包
```bash
# 安装PyInstaller
pip install pyinstaller

# 运行打包脚本
python build_standalone.py
```

### Linux/macOS 系统

#### 方法一：使用脚本
```bash
# 给脚本执行权限
chmod +x build.sh

# 运行打包脚本
./build.sh
```

#### 方法二：手动打包
```bash
# 安装PyInstaller
pip3 install pyinstaller

# 运行打包脚本
python3 build_standalone.py
```

## 打包输出

打包成功后，会在 `dist/电池售后管理系统/` 目录生成以下文件：

```
电池售后管理系统/
├── 电池售后管理系统.exe    # 主程序（Windows）
├── 电池售后管理系统         # 主程序（Linux/macOS）
├── data/                   # 数据目录
│   ├── batteries.json      # 电池数据
│   └── settings.json       # 系统设置
├── *.js                    # JavaScript文件
├── *.html                  # 网页文件
├── *.css                   # 样式文件
├── 使用说明.txt             # 使用说明
└── 其他依赖文件...
```

## 部署说明

### 单机使用
1. 将整个 `电池售后管理系统` 文件夹复制到目标电脑
2. 双击运行 `电池售后管理系统.exe`
3. 在启动器中选择"启动服务器"
4. 系统会自动打开浏览器访问管理界面

### 多机协作
1. 在一台电脑上运行程序并启动服务器
2. 记录服务器的IP地址和端口
3. 在其他电脑上运行程序
4. 选择"连接现有服务器"，输入服务器地址

## 数据存储

### 本地存储
- 所有数据保存在 `data` 文件夹中
- `batteries.json` - 电池维修记录
- `settings.json` - 系统配置
- 图片文件保存在浏览器的localStorage中

### 数据备份
- 定期备份整个 `data` 文件夹
- 可通过系统设置进行数据导入导出
- 支持JSON格式的数据备份

## 注意事项

### 防火墙设置
- 首次运行时，Windows可能会弹出防火墙提示
- 请选择"允许访问"以确保网络功能正常

### 网络要求
- 多机协作需要在同一局域网内
- 确保网络端口（默认3000）未被占用

### 性能优化
- 建议在性能较好的电脑上作为服务器
- 大量数据时建议定期清理和备份

## 故障排除

### 常见问题

1. **打包失败**
   - 检查Python版本是否为3.7+
   - 确保网络连接正常（需要下载PyInstaller）
   - 检查磁盘空间是否充足

2. **程序无法启动**
   - 检查是否有杀毒软件拦截
   - 确保所有文件完整复制
   - 查看错误日志

3. **无法访问网页**
   - 检查防火墙设置
   - 确认端口未被占用
   - 检查网络连接

4. **数据丢失**
   - 检查data文件夹是否存在
   - 恢复备份数据
   - 检查文件权限

### 技术支持
如遇到其他问题，请联系系统管理员或查看程序日志文件。

## 版本信息
- 版本：1.0.0
- 更新日期：2024年
- 支持系统：Windows/Linux/macOS
